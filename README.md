**StockScreenerPro** — это веб-приложение для мониторинга и анализа финансовых данных акций, интегрированное с Telegram-ботом для авторизации и доступа на сайт.

## Структура проекта:

### backend/auth_telegram_bot
Этот компонент отвечает за авторизацию пользователей на сайте. Он использует Telegram-бота для получения подтверждения от пользователя. После получения ответа от бота, система записывает IP-адрес пользователя и предоставляет доступ к сайту. Доступ сохраняется на 30 дней, после чего автоматически удаляется.

### backend/screener_daily_USA
Этот модуль занимается получением данных о ценах акций, вычислением значений финансовых индикаторов и объединением всех данных в единую таблицу. Эти данные отображаются на сайте в виде скринера. Также в модуле содержатся карты рынка.

### backend/screener_website
Содержит основные настройки Django-приложения. Этот компонент управляет всеми backend-процессами, связанными с работой веб-сайта.

### telegram_bot
Telegram-бот для взаимодействия с пользователем. Он отправляет ссылки на каналы, проверяет подписку на них и предоставляет пользователям доступ к сайту.

## Инфраструктура:

### nginx
Используется для локальной разработки. Для production-окружения применяется **nginx-certbot**, который автоматически получает SSL-сертификат и обновляет его по мере необходимости.

### user_conf.d
Настройки для **nginx-certbot** в production-окружении, которые обеспечивают правильную работу с SSL-сертификатами и настройку веб-сервера для безопасного обслуживания приложения.

---

## Технологический стек:

- **Django**: веб-приложение и админ-панель.
- **Celery**: асинхронное выполнение задач (ежедневное обновление данных о фондовых рынках, проверка истечения доступа на сайт).
- **Celery Beat**: планировщик задач для выполнения периодических задач.
- **Flower**: инструмент для мониторинга и управления задачами Celery в реальном времени.
- **Redis**: используется для кэширования и работы с Celery.
- **Django Cachalot**: модуль для автоматического кэширования запросов Django ORM. Использует **Redis** в качестве хранилища кэша для ускорения повторных запросов к базе данных. Cachalot автоматически кэширует результаты запросов и минимизирует количество обращений к базе данных, повышая производительность.
- **PostgreSQL**: реляционная база данных. Основная в проекте.
- **pgAdmin4**: веб-интерфейс для управления базой данных PostgreSQL. Используется для администрирования базы данных, создания и выполнения запросов, а также для мониторинга состояния базы данных.
- **nginx**: для проксирования запросов и управления HTTPS-соединениями.
- **nginx-certbot**: для автоматического получения и обновления SSL-сертификатов в production-окружении.
- **Gunicorn**: WSGI HTTP сервер для развертывания Django-приложения в production-среде.
- **Docker**: для контейнеризации всех компонентов и обеспечения воспроизводимости среды.

--- 

### Также в проекте внедрены:

- **TA-Lib** для технического анализа и вычисления индикаторов акций.
- **Pandas** и **Numpy** для операций с данными.
- **Django Cachalot** и **Redis** - кэширование.
- **Celery** с **Celery Beat** и мониторинг через **Flower** для организации асинхронных задач и контролем за их выполнения в реальном времени.
- **Парсинг данных** осуществляется с помощью библиотек, таких как **Requests** и **TvDatafeed**. Эти данные используются для обновления финансовых индикаторов на платформе.
